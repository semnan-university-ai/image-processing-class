<div dir="rtl">
 
#### تمرین 7
#### اشکال هندسی مربع، مستطیل، لوزی، مثلث را بدون توابع متلب رسم کنید. <br />

***

### توضیحات کلی برنامه:

 در این برنامه تعدادی اشکال هندسی در یک تصویر خام 1500 در 1500 پیکسلی رسم شده است برای چند ضلعی ها از تابع نوشته شده جهت رسم خط که مختصات دو نقطه آن را می گیرد استفاده شده است و برای رسم دایره از برنامه نوشته شده در تمرین 2 استفاده شده است 

### توضیحات بخش های برنامه
***
 این قسمت باعث بسته شدن تمام پنجره ها ، ریست شدن تمام متغیر ها و پاک شدن کامند ویندو می گردد <br />

</div>

```matlab

close all         
clear all         
clc    

```
***
<div dir="rtl">
در این بخش تصویر خام به ابعاد 1500 در 1500 ایجاد میکند
 </div>
 
 ```matlab
 
pic=zeros(1500,1500);  

```
***
<div dir="rtl">
 
 در اين قسمت برنامه مستطيلي در نقطه شروع 100 و 150 به طول 300 و عرض 200 پيكسل رسم ميكند
 
 </div>
 
 ```matlab
 
% Draw a Rectangle in pos xpos and ypos :    
xpos=100;
ypos=150;
l=300;
w=200;
                                         
pic=draw_line(pic,xpos,ypos,xpos,(ypos+l));
pic=draw_line(pic,xpos+w,ypos,xpos+w,ypos+l);
pic=draw_line(pic,xpos,ypos,xpos+w,ypos);
pic=draw_line(pic,xpos,ypos+l,xpos+w,ypos+l);

```
***
<div dir="rtl">
 
 در اين قسمت برنامه مربعی در نقطه شروع 100 و 650 به طول 200 و عرض 200 پيكسل رسم ميكند
 
 </div>
 
 ```matlab
                                          
% Draw a Square in pos xpos and ypos :
xpos=100;
ypos=650;
l=200;
pic=draw_line(pic,xpos,ypos,xpos,(ypos+l));
pic=draw_line(pic,xpos+l,ypos,xpos+l,ypos+l);
pic=draw_line(pic,xpos,ypos,xpos+l,ypos);
pic=draw_line(pic,xpos,ypos+l,xpos+l,ypos+l);

```
***
<div dir="rtl">
 
در این بخش توسط تابع رسم خط که در ادامه برنامه توضیح داده شده است خطی بین دو نقطه مشخص شده در برنامه رسم می کند
 </div>
 
 ```matlab
              
p1=[400 1000];
p2=[100 1400];
pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));   

```
***
<div dir="rtl">
 
در این بخش توسط سه نقطه داده شده که سه راس مثلث هستند و به کمک تابع فوق الذکر مثلث را رسم می کند
 </div>
 
 ```matlab

p1=[800 100]
p2=[700 400]
p3=[500 300]

pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));
pic=draw_line(pic,p1(1),p1(2),p3(1),p3(2));
pic=draw_line(pic,p3(1),p3(2),p2(1),p2(2));

```
***
<div dir="rtl">
 
در این بخش توسط چهار نقطه داده شده و به کمک تابع فوق الذکر لوزی را رسم می کند
 </div>
 
 ```matlab

p1=[700 600]
p2=[500 700]
p3=[700 800]
p4=[900 700]

pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));
pic=draw_line(pic,p1(1),p1(2),p4(1),p4(2));
pic=draw_line(pic,p2(1),p2(2),p3(1),p3(2));
pic=draw_line(pic,p3(1),p3(2),p4(1),p4(2));

```
***
<div dir="rtl">
 
در این بخش توسط پنج نقطه داده شده و به کمک تابع فوق الذکر پنج ضلعی را رسم می کند
 </div>
 
 ```matlab
 
p1=[900 1000]
p2=[700 900]
p3=[500 1150]
p4=[700 1400]
p5=[900 1300]

pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));
pic=draw_line(pic,p2(1),p2(2),p3(1),p3(2));
pic=draw_line(pic,p3(1),p3(2),p4(1),p4(2));
pic=draw_line(pic,p4(1),p4(2),p5(1),p5(2));
pic=draw_line(pic,p1(1),p1(2),p5(1),p5(2));

```
***
<div dir="rtl">
 
در این بخش توسط سه نقطه داده شده که سه راس مثلث هستند و به کمک تابع فوق الذکر مثلث را رسم می کند
 </div>
 
 ```matlab

p1=[1400 100]
p2=[1400 500]
p3=[1000 300]

pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));
pic=draw_line(pic,p1(1),p1(2),p3(1),p3(2));
pic=draw_line(pic,p3(1),p3(2),p2(1),p2(2));

```
***
<div dir="rtl">
 
در این بخش توسط چهار نقطه داده شده  و به کمک تابع فوق الذکر ذوزنقه را رسم می کند
 </div>
 
 ```matlab

p1=[1400 700]
p2=[1200 600]
p3=[1200 1000]
p4=[1400 900]

pic=draw_line(pic,p1(1),p1(2),p2(1),p2(2));
pic=draw_line(pic,p1(1),p1(2),p4(1),p4(2));
pic=draw_line(pic,p2(1),p2(2),p3(1),p3(2));
pic=draw_line(pic,p3(1),p3(2),p4(1),p4(2));

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Draw a Circle  دایره ای به شعاع 150 و در نقطه 1300 و 1300 رسم میکند
r=150;
cx=1300;
cy=1300;
pic=draw_circle(pic,r,cx,cy);  % برای رسم دایره از تابع که همان برنامه مربوط به تمرین 2 در آن قرار داده شده است استفاده شده است
```
***
draw_line function           
```ruby
function pic=draw_line(pic,ax,ay,bx,by)  % این تابع خط راستی بین دو نقطه داده شده رسم میکند
apos=[ax ay];     % مختصات نقطه ابتدایی
bpos=[bx by];     % مختصات نقطه انتهایی
         if (apos(1)==bpos(1))    % بررسی میکند آیا خط مورب است یا موازی محور ایکس ها می باشد
             m=1;                 % اگر شرط بالا برقرار باشد شیب خط را یک در نظر میگیرد
             if (apos(2)>bpos(2)) % اگر ایکس نقطه دوم کمتر از ایکس نقطه اول باشد
                 pic(apos(1),bpos(2):apos(2))=1; % مقدار پیکسل های مورد نیاز را برابر یک قرار می دهد 
             else
                 pic(apos(1),apos(2):bpos(2))=1; % در غیر این صورت ادرس دهی جهت رسم خط را به این فرمت انجام می دهد
             end
         else
             m=(abs(bpos(2)-apos(2))/abs(bpos(1)-apos(1))); % اگر خط موازی محور ایکس نبود شیب خط را از فرمول روبرو حساب میکند
         end
if (apos(1)>bpos(1))  % بررسی میکند که آیا شیب خط منفی است یا خیر اگر منفی بود عدد شیب را در -1 ضرب مبکند
    if (bpos(2)<apos(2))
        m=m*-1;
    end    
    l=abs(apos(1)-bpos(1)) % طول ارتفاع خط  در محور ایکس ها را محاسبه میکند
    for i=1:l       % حلقه تکرار به اندازه طول خط در محور ایکس
         j=round(m*i);  %   با توجه به شیب خط مقدار تغییر پیکسل در جهت طول تصویر را محاسبه میکند 
         ii=apos(1)-i;  % با توجه به مختصات شروع ترسیم خط مختصات جدید را در راستای محور عمودی محاسبه میکند
         jj=j+apos(2);  % با توجه به مختصات شروع ترسیم خط مختصات جدید را در راستای محور افقی محاسبه میکند
         if (apos(1)==bpos(1)) % اگر خط موازای محور عمودی بود
             ii=apos(1);   % با توجه به مختصات شروع ترسیم خط مختصات جدید را در راستای محور عمودی محاسبه میکند 
         end
         pic(ii,jj)=1;  % پیکسل با مختصات محاسبه شده در فوق را سفید رنگ میکند
    end   
end  
                       % خطوط بعد مشابه بالا می باشد با این تفاوت که بررسی میکند مختصات عمودی نقطه اول کمتر از نقطه دوم باشد
if (apos(1)<bpos(1))    
    l=abs(bpos(1)-apos(1))
    for i=1:l
         j=round(m*i);
         ii=bpos(1)-i;
         if (bpos(2)<apos(2))
             jj=bpos(2)+j;
         elseif (bpos(2)>apos(2))
             jj=bpos(2)-j;
         else
             jj=bpos(2);
         end 
         if (apos(1)==bpos(1))
             ii=apos(1);
         end    
         pic(ii,jj)=1;
    end   
end 
imshow(pic)
```
draw_circle function
```ruby

function pic=draw_circle(pic,r,cx,cy)

pic2=zeros(1500,1500);  % تصویری خام جهت رسم دایره ایجاد میکند

for i=1:r                % اين حلقه استفاده از مختصات قطبي دو يك چهارم دايره رسم ميكند
    y=round(sqrt((r^2)-(i^2)));  %مقدار انحراف به ازاي هر پيكسل را محاسبه ميكند
    xx=r-y+1;                    % مختصات عمودي كمان يك چهارم دايره را بدست مي آورد
    yy=r+i;                      % مختصات افقي كمان يك چهارم دايره را بدست مي آورد
    pic(xx,yy)=1;                % پيكسل كمان اول را سفيد رنگ ميكند
    pic(yy,xx)=1;                % پيكسل كمان دوم را سفيد ميكند 
    xx=(2*r)-xx;                 % مختصات عمودي كمان جديد را مشخص ميكند. چون سفيدي دايره در همه زوايا يكسان باشد هر كمان به صورت دو طرفه رسم شده است
    pic(xx,yy)=1;                % پيكسل كمان اول را سفيد رنگ ميكند 
    pic(yy,xx)=1;                % پيكسل كمان دوم را سفيد ميكند
    yy=r-(yy-r)+1;               % مختصات افقي كمان يك چهارم دايره را بدست مي آورد
    pic(xx,yy)=1;                % پيكسل كمان به دست آمده را سفيد ميكند
end 
for i=1:r-1                      % حلقه افقي براي رسم كمان ربع دوم دايره
    for j=1:2*r                  % حلقه عمودي براي رسم كمان ربع دوم دايره
        pic2(r-i,j)=pic2(r+i,j); % كمان را از كمان رسم شده قبلي كپي ميكند
    end
end    
for i=1:2*r                      % دايره مورد نظر را روي صفحه اصلي در محل مورد نظر كپي ميكند
    for j=1:2*r                  % دايره مورد نظر را روي صفحه اصلي در محل مورد نظر كپي ميكند
        pic(cx-r+i,cy-r+j)=pic2(i,j);  % پيكل هاي تصوير جديد را از دايره رسم شده مقدار دهي مي كند
    end
end    
        
   
imshow(pic)  % تصویر را رسم میکند
```
***
![alt text](https://github.com/semnan-university-ai/image-processing-class/blob/3c90faf383ed7f9d035c6f61340956814d2d1e38/excersiecs/alirezachaji/7/Exce07.png)
***
<div dir="rtl">
توضیحات کلی برنامه <br />
 در این برنامه تعدادی اشکال هندسی در یک تصویر خام 1500 در 1500 پیکسلی رسم شده است برای چند ضلعی ها از تابع نوشته شده جهت رسم خط که مختصات دو نقطه آن را می گیرد استفاده شده است و برای رسم دایره از برنامه نوشته شده در تمرین 2 استفاده شده است ..
</div>
