
<div dir="rtl">
 
#### تمرین 10
#### بدون استفاده از دستوران متلب یک کپچای تصویری را بکشید؛ اعداد را با تابع عدد تصادفی ایجاد کنید و سپس با توجه به اعداد بدست آمده برای هر یک در تصویر پیکسل های مورد نظر را رسم کنید؛ تصویر باینری باشد و اعداد رنگ سفید و پیش زمینه رنگ مشکی داشته باشد. <br />

***

### توضیحات کلی برنامه:

جهت نمایش اعداد تصادفی به صورت تصویر کپچا در این تمرین از ده تصویر که درون هر کدام یکی از اعداد 0 - 9 قرار دارد استفاده شده است. این برنامه 4 عدد تصادفی تولید کرده هر یک از اعداد را به صورت تصادفی دوران می دهد و به صورا عمودی در یک مکان تصادفی در تصویر اصلی نمایش می دهد
برای دوران تصویر از تابع استفاده شده در تمرین 8 کمک گرفته شده است 

### توضیحات بخش های برنامه
***
 این قسمت باعث بسته شدن تمام پنجره ها ، ریست شدن تمام متغیر ها و پاک شدن کامند ویندو می گردد <br />

</div>

```matlab

close all         
clear all         
clc    

```
***
<div dir="rtl">
 در این قسمت ابتدا تصویر خامی به ابعاد 100 در 400 ايجاد مي كند سپس توسط يك حلقه تكرار و توليد كننده اعداد تصادفي 4 عدد تصادفي توليد كرده و از روي شمارنده حلقه آدرس آن تصوير ايجاد مي گردد سپس آن تصوير خوانده شده و به اندازه 0 تا 360 درجه به صورت رندم دوران داده مي شود و در پايان نيز تصوير به حالت سياه و سفيد برده شده و نمايش داده مي شود
 
 </div>
 
 ```matlab                                         
pic=zeros(100,400);                           
for i=1:4                                       
   d=randi(10);                                 
   add="images\numbers\"+int2str(d-1)+".png";    
   a=imread(add);                               
   for r=1:100                                  
       for k=1:100                                
           c=(i-1)*100+k;                      
           pic(r,c)=(255-a(r,k));              
       end
   end    
end 
figure;                                         
pic=im2bw(pic);                                 
imshow(pic)                                    
```
***
<div dir="rtl">
  تابعی که برای چرخش اعداد استفاده شده است در ذیل آورده شده که همان تابع تمرین شماره 8 است که تغییر نام داده شده و قسمت نمایش تصویر  
 
 </div>
 
 ```matlab 

function pic2=captcha_rotate(pic,angel)
n=size(pic);
v=deg2rad(angel);
r=ceil(n(1)*abs(cos(v))+n(2)*abs(sin(v)));                      
c=ceil(n(1)*abs(sin(v))+n(2)*abs(cos(v)));                     
pic2=zeros(r,c,n(3));
pic2=uint8(pic2);
midx=ceil((size(pic2,1))/2);
midy=ceil((size(pic2,2))/2);
```
***

<div dir="rtl">
 
 در این بخش با استفاده از حلقه های تکرار و روابط مثلثاتی مختصات جدید هر پیکسل پس از دوران را محاسبه می کند و مقدار هر پیکسل در مختصات جدید را برابر
 مقدار پیکسل در مختصات قبلی قرار داده و در به تابع اصلی برگشت داده می شود.
 
 ***
 </div>
 
 
 ```matlab
pic=255-pic;
for i=1:size(pic2,1)
    for j=1:size(pic2,2)                                                       
         xx= round((i-midx)*cos(v)+(j-midy)*sin(v)+ceil(n(1)/2));                                       
         yy= round(-(i-midx)*sin(v)+(j-midy)*cos(v)+ceil(n(2)/2));                             
         if (xx>=1 && yy>=1 ) 
             if ( xx<=n(1) &&  yy<=n(2) ) 
               pic2(i,j,1:n(3))=pic(xx,yy,1:n(3));  
             end  
         end
    end
end                                       

```
***

![alt text](https://github.com/semnan-university-ai/image-processing-class/blob/d3ef792b98325f473d9f3a118e66253a889b95f6/excersiecs/alirezachaji/10/Exce10.png)
***
